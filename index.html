<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
</head>
<body>
    <main>
        <section class="sidebar">
            <section class="pionowe_zdjecia">
                <img src="https://download.logo.wine/logo/Starbucks/Starbucks-Logo.wine.png" class="kawa" alt="Starbucks">
                <ul>
                    <li><a href="dane.html">Dostosuj Wykresy</a></li>
                </ul>
            </section>
        </section>

        <section class="dashboard">
            <section class="box">
                <h2>Podział sprzedaży napojów</h2>
                <section class="wykres-kontener słupkowy">
                    <div style="height: 80px"></div>
                    <div style="height: 120px"></div>
                    <div style="height: 60px"></div>
                </section>
            </section>

            <section class="box">
                <h2>Najpopularniejsze napoje</h2>
                <div class="wykres-kontener">
                    <div class="kolowy"></div>
                </div>
            </section>

            <section class="box">
                <h2>Wzrost sprzedaży</h2>
                <div class="wykres-kontener liniowy">
                    <svg viewBox="0 0 100 100" width="100" height="100">
                        <polyline points="10,80 30,60 50,70 70,40 90,20" stroke="blue" stroke-width="2" fill="none" />
                    </svg>
                </div>
            </section>

            <section class="box">
                <h2>Popularność napojów </h2>
                <div class="graph-container">
                    <svg class="radar" viewBox="0 0 100 100">
                        <polygon points="50,10 90,30 75,80 25,80 10,30" fill="rgba(0, 123, 255, 0.5)" stroke="blue" stroke-width="2"></polygon>
                        <polygon points="50,20 80,35 70,70 30,70 15,35" fill="none" stroke="gray" stroke-width="1"></polygon>
                        <polygon points="50,30 70,40 65,60 35,60 20,40" fill="none" stroke="gray" stroke-width="1"></polygon>
                        <polygon points="50,40 60,45 55,50 45,50 40,45" fill="none" stroke="gray" stroke-width="1"></polygon>
                    </svg>
                </div>
            </section>

            <section class="box">
                <h2>Częstotliwość zakupu</h2>
                <div class="kontener-wykresu słupki">
                    <div style="width: 90%">90%</div>
                    <div style="width: 70%">70%</div>
                    <div style="width: 50%">50%</div>
                </div>
            </section>
            
            <section class="box">
                <h2>Porównanie napojów</h2>
                <div class="kontener-wykresu">
                    <div class="okrągły">
                        <div class="wartosc">75%</div>
                    </div>
                </div>
            </section>
        </section>
    </main>
    <script>
  document.addEventListener("DOMContentLoaded", function () {
    let data = {
        slupkowy: [80, 120, 60],
        kolowy: [25, 25, 25, 25],
        liniowy: [10, 100, 50, 20, 90],
        slupki: [90, 70, 50],
        okragly: 75
    };

    function updateCharts() {
        let slupkowyBars = document.querySelectorAll(".słupkowy div");
        for (let i = 0; i < slupkowyBars.length; i++) {
            slupkowyBars[i].style.height = data.slupkowy[i] + "px";
        }

        let pieChart = document.querySelector(".kolowy");
        let total = data.kolowy.reduce((a, b) => a + b, 0);
        let colors = ["red", "blue", "green", "yellow"];
        let gradient = "conic-gradient(";
        let start = 0;
        for (let i = 0; i < data.kolowy.length; i++) {
            let end = start + (data.kolowy[i] / total) * 100;
            gradient += colors[i] + " " + start + "% " + end + "%, ";
            start = end;
        }
        pieChart.style.background = gradient.slice(0, -2) + ")";

        let polyline = document.querySelector(".liniowy polyline");
        let points = "";
        for (let i = 0; i < data.liniowy.length; i++) {
            points += (10 + i * 20) + "," + (100 - data.liniowy[i]) + " ";
        }
        polyline.setAttribute("points", points.trim());

        let slupkiBars = document.querySelectorAll(".słupki div");
        for (let i = 0; i < slupkiBars.length; i++) {
            slupkiBars[i].style.width = data.slupki[i] + "%";
            slupkiBars[i].textContent = data.slupki[i] + "%";
        }

        let okraglyChart = document.querySelector(".okrągły");
        okraglyChart.style.background = `conic-gradient(#3498db 0% ${data.okragly}%, #f9f9f9 ${data.okragly}% 100%)`;
        document.querySelector(".okrągły .wartosc").textContent = data.okragly + "%";
    }

    let button = document.createElement("button");
    button.textContent = "Edytuj dane";
    button.id = "editData";
    document.body.appendChild(button);
    button.addEventListener("click", function () {
        let newData = prompt("Podaj nowe wartości w formacie JSON", JSON.stringify(data));
        try {
            data = JSON.parse(newData);
            updateCharts();
        } catch (e) {
            alert("Nieprawidłowy format danych!");
        }
    });

    updateCharts();
});

    </script>
</body>
</html>
